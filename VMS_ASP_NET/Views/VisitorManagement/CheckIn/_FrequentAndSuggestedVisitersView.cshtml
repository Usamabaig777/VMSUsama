@*@model VMS.Models.CheckInVM*@
<div class="row">
    <div class="pl-0 col-12 col-sm-12">
        <div class="frequentVisitorsSearchCard card">
            <div class="pt-1 pr-1 pb-1 pl-1 card-header"><b>Frequent &amp; Suggested Visitors</b><button type="button" class="float-right btn btn-secondary btn-sm">Clear</button></div>
            <div class="pt-1 pr-1 pb-0 pl-1 card-header">
                <div class="row">
                    <div class="col-12 col-sm-3">
                        <label class="mb-0" style="font-size: smaller;">First Name</label>
                        <input class="form-control-sm form-control" name="VisitorFirstName" value="" id="firstname">
                    </div>
                    <div class="col-12 col-sm-3">
                        <label class="mb-0" style="font-size: smaller;">Last Name</label>
                        <input class="form-control-sm form-control" name="VisitorLastName" value="" id="lastname">
                    </div>
                    <div class="col-12 col-sm-3">
                        <label class="mb-0" style="font-size: smaller;">Company</label>
                        <input class="form-control-sm form-control" name="Company" value="" id="compnay">
                    </div>
                    <div class="col-12 col-sm-3">
                        <label class="mb-0" style="font-size: smaller;">
                            ID
                            <i class="icon-question" id="SSNTooltipElement"></i>
                        </label>
                        <input class="form-control-sm form-control" name="VisitorSSN" value="" id="ssn">
                    </div>
                </div>
                <div class="col-12 col-sm-3" id="existingvisitor" hidden="">
                    <table>
                        <thead>
                            <tr>
                                <th>Action</th>
                                <th>Full Name</th>
                                <th>Company</th>
                                <th>Status</th>
                                <th>Destination</th>
                                <th>SSn</th>
                            </tr>
                        </thead>
                        <tbody id="exitingvisitorbody">

                        </tbody>
                    </table>

                </div>
            </div>
            @*<div class="card-body" style="max-height: 215px; overflow: auto; font-size: small;">
                    <span style="display: grid; text-align: center; align-items: center; height: 215px;">No Result Found</span>
                </div>*@
        </div>
    </div>
</div>

<script>
    //$(document).ready(function() {

    //})
    $("#firstname").keyup(function () {
        var firstname = $("#firstname").val();
        var lastname = $("#lastname").val();
        var company = $("#company").val();
        var ssn = $("#ssn").val();

        $.ajax({
            data: {
                'firstname': firstname
            },
            url: "/VisitorManagement/GetExistingVisitor",
            method: "GET",
            dataType: "json"

            //datatype:"json"
        })
            .done(function (data) {
                $("#existingvisitor").removeClass("hide");
                for (var i = 0; i < data.length; i++) {
                    //$("#exitingvisitorbody").append("<tr><td>" +
                    //    i.VisitorFirstName +
                    //    " " +
                    //    i.VisitorLastName +
                    //    "<td></td>" +
                    //    i.Company +
                    //    "</td><td>" +
                    //    i.VisitorSSN +
                    //    "</td><td>" +
                    //    i.VisitorStatusDescription +
                    //    "</td></tr>");
                    alert("true");
                }


            })
            .fail(function () {
                alert("Something failed");
            });
    });
</script>